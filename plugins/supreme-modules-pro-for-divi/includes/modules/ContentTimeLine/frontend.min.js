jQuery(function (t) { var e; function s(e, s, o, r, l, c, m) { let d = l.last()[0].clientHeight + "px"; var f = e.find(".dsm-content-timeline-tree-progress"); if (s.css({ bottom: d }), "on" === r && (o = !0), 980 >= t(window).width() && t(window).width() > 767 && "on" === c && (o = !0), 767 > t(window).width() && "on" === m && (o = !0), t(window).width() > 980 && "off" === r && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), 980 >= t(window).width() && t(window).width() > 767 && "off" === c && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), 767 > t(window).width() && "off" === m && (o = !1, f.css({ height: "0px" }), l.removeClass("dsm-pointer-active")), o) { t(window).on("scroll", function e() { o && (agPosY = t(window).scrollTop(), $()) }), t(window).on("resize", function e() { o && (agPosY = t(window).scrollTop(), u = t(window).height(), $()) }); var p = e.find(".dsm-pointer-wrapper"), h = t(window).outerHeight(), u = t(window).height(), g = -1, v = !1; function w() { v = !1, g !== agPosY && (g = agPosY, i = l.last().find(p).offset().top + agPosY - t(window).scrollTop(), a = f.offset().top + agPosY - t(window).scrollTop(), n = agPosY - a + h / 2, i <= agPosY + h / 2 && (n = i - a), f.css({ height: n + "px" }), l.each(function () { t(this).find(p).offset().top + agPosY - t(window).scrollTop() < agPosY + .5 * h ? t(this).addClass("dsm-pointer-active") : t(this).removeClass("dsm-pointer-active") })) } function $() { v || requestAnimationFrame(w), v = !0 } } } (e = jQuery)(function () { e(".dsm-content-timeline-items-wrapper").each(function (t) { let o = e(this), r = e(this).find(".dsm-content-timeline-tree"); var l = e(this).data("tree-animation"), c = e(this).data("tree-animation-tablet"), m = e(this).data("tree-animation-phone"); let d = o.find(".dsm-content-timeline-item-wrapper"); s(o, r, !1, l, d, c, m), e(window).on("resize", () => { s(o, r, !1, l, d, c, m) }) }) }), e(".dsm-description p").each(function () { var t = e(this); 0 == t.html().replace(/\s|&nbsp;/g, "").length && t.remove() }) }), document.addEventListener("DOMContentLoaded", function () { let t = window.et_animation_data ?? [], e = Array.from(t); for (let s of t) if (-1 !== s.class.indexOf("dsm_content_timeline_")) { let o = document.querySelector("." + s.class); o.classList.remove("et_animated"), e = e.filter(t => t.class !== s.class); let r = o.querySelectorAll(".dsm-content-timeline-item-wrapper"); for (let l of r) { let c = "dsm_wrapper_" + Array.from(l.classList).find(t => t.startsWith("dsm_content_timeline_child_")); document.querySelector("." + c).classList.add("et_animated"), e.push({ ...s, class: c }) } } window.et_animation_data = e }), jQuery(function (t) { let e = document.querySelectorAll(".dsm-content-timeline-items-wrapper"); e.forEach((e, s) => { let o = e.dataset.image_lightbox, r = e.querySelectorAll(".dsm-content-timeline-item-wrapper .dsm-image-wrapper .dsm-image"); "off" !== o && r.forEach((e, s) => { let o = e.querySelector("img"), r = o.getAttribute("src"); t(o).magnificPopup({ items: { src: r }, removalDelay: 500, type: "image" }) }) }) });